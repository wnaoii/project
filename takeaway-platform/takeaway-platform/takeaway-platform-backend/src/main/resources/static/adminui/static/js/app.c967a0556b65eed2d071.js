webpackJsonp([1],{"1uuo":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},o,!1,function(t){a("s347")},null,null).exports,l=a("/ocq"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"hello"},[a("h1",[t._v(t._s(t.msg))]),t._v(" "),a("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),a("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ul",[a("li",[a("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),a("li",[a("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),a("br"),t._v(" "),a("li",[a("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};a("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},i,!1,function(t){a("1uuo")},"data-v-d8ec41bc",null).exports;var n={name:"Home",data:function(){return{menuRouter:!0,isActive:!0}},methods:{loginout:function(t,e){localStorage.clear()},menuSelect:function(t,e){this.isActive=t},tips:function(){this.$message.warning("功能尚在开发中....")}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-container",[a("el-header",{staticClass:"menu-header"},[a("div",{staticClass:"namebox"},[t._v("欢迎登录，{{}}\n        "),a("span",{staticClass:"loginout",staticStyle:{"margin-left":"30px"},on:{click:t.loginout}},[t._v("\n        [ "),a("span",{staticStyle:{"text-decoration":"underline",cursor:"pointer"}},[t._v("退出")]),t._v(" ]\n      ")])])]),t._v(" "),a("el-container",[a("el-aside",{attrs:{width:"200px"}},[a("el-menu",{attrs:{router:t.menuRouter},on:{select:t.menuSelect}},[a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/home/overview"}},[a("el-icon",{staticClass:"el-icon-s-finance"}),t._v("\n              总览\n            ")],1),t._v(" "),a("el-menu-item",{attrs:{index:"/home/product/list"}},[a("el-icon",{staticClass:"el-icon-goods"}),t._v("\n              产品维护\n            ")],1),t._v(" "),a("el-menu-item",{attrs:{index:"/home/orders"}},[a("el-icon",{staticClass:"el-icon-s-order"}),t._v("\n              订单管理\n            ")],1),t._v(" "),a("el-menu-item",{attrs:{index:"/home/add/stock"}},[a("el-icon",{staticClass:"el-icon-s-grid"}),t._v("\n              库存管理\n            ")],1),t._v(" "),a("el-menu-item",{attrs:{index:"/home/user"},on:{click:t.tips}},[a("el-icon",{staticClass:"el-icon-s-finance"}),t._v("\n              用户管理\n            ")],1),t._v(" "),a("el-menu-item",{attrs:{index:"/home/ad"},on:{click:t.tips}},[a("el-icon",{staticClass:"el-icon-s-finance"}),t._v("\n              广告推送\n            ")],1)],1)],1)],1),t._v(" "),a("el-container",[a("el-main",[a("router-view")],1)],1)],1)],1)],1)},staticRenderFns:[]};var u=a("VU/8")(n,c,!1,function(t){a("mmY/")},"data-v-2543078b",null).exports,d={name:"ProductList",data:function(){return{queryParams:{productName:"",pType:"",type:"",all:!0,pageNum:1,pageSize:10},currentSelectionItem:{},deleteDialogVisible:!1,dict:[{value:"1",label:"奶制品"},{value:"2",label:"茶类"},{value:"3",label:"上新"}],attrList:[{value:"dairy",label:"奶制品"},{value:"tea",label:"茶类"},{value:"coffee",label:"咖啡"},{value:"",label:"全部"}],deletableList:[],tableData:[],tableTotal:0,seqNoArray:[],deptDict:[],searchParam:{},rules:{pType:[{required:!0,message:"请选择业务类型",trigger:"change"}]}}},created:function(){this.getProductList()},methods:{toAddProduct:function(){this.$router.push({name:"AddProduct"})},getProductList:function(){var t=this,e=this.$loading({lock:!0,text:"查询中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios.get("/drink/product/list",{params:{pType:this.queryParams.pType}}).then(function(e){t.tableData=e.data,t.tableData.forEach(function(e){switch(e.soldStatus){case"0":e.soldStatus="上架"}switch(e.startDate=t.$moment(e.startDate).format("YYYY-MM-DD HH:mm:ss"),e.pType){case"dairy":e.pType="奶制品";break;case"coffee":e.pType="咖啡";break;case"tea":e.pType="茶类"}})}).catch(function(t){console.error(t)}).then(function(){e.close()})},revise:function(t){console.log("productId => %o",t),this.$router.push({name:"AddProduct",params:{productId:t}})},deleteProduct:function(t){var e=this,a="/drink/product/"+t;this.$axios.delete(a).then(function(t){e.getProductList()}).catch(function(t){console.error(t),e.$message.error("删除失败")})},upProduct:function(t){},downProduct:function(){this.$message.warning("功能开发中....")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-h1"},[t._v("产品维护")]),t._v(" "),a("div",{staticClass:"query-box"},[a("el-form",{ref:"params",attrs:{rules:t.rules,model:t.queryParams,"label-position":"left"}},[a("el-row",{staticStyle:{"margin-top":"20px","margin-left":"15%"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"attrId",label:"分类属性："}},[a("el-select",{model:{value:t.queryParams.pType,callback:function(e){t.$set(t.queryParams,"pType",e)},expression:"queryParams.pType"}},t._l(t.attrList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}})],1),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("el-button",{staticClass:"query-btn",attrs:{type:"primary",size:"small"},on:{click:t.getProductList}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"query-btn",staticStyle:{"margin-left":"15px"},attrs:{type:"success",size:"small"},on:{click:t.toAddProduct}},[t._v("新增\n        ")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"pTitle",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"pType",label:"产品分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"上线时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"soldStatus",label:"销售状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"contacts",label:"添加人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(a){return t.revise(e.row.productId)}}},[t._v("修改")]),t._v(" "),a("el-button",{staticClass:"option-btn",staticStyle:{"background-color":"#f43d5e"},attrs:{size:"mini"},on:{click:function(a){return t.deleteProduct(e.row.productId)}}},[t._v("删除\n            ")]),t._v(" "),"0"===e.row.sold?a("el-button",{staticClass:"option-btn",attrs:{size:"mini"},on:{click:function(a){return t.upProduct(e.row.productId)}}},[t._v("上架\n            ")]):t._e(),t._v(" "),"0"!==e.row.sold?a("el-button",{staticClass:"option-btn",attrs:{size:"mini"},on:{click:function(a){return t.downProduct(e.row.productId)}}},[t._v("下架\n            ")]):t._e()],1)]}}])})],1),t._v(" "),a("el-dialog",{staticStyle:{"font-size":"12px"},attrs:{title:"警告",visible:t.deleteDialogVisible,width:"80%"},on:{"update:visible":function(e){t.deleteDialogVisible=e}}},[a("span",[t._v("是否确认删除【"+t._s(t.currentSelectionItem.productName)+"】？")]),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:t.deleteProduct}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取消")])],1)])],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.queryParams.pageNum,"page-sizes":[5,10,20],"page-size":t.queryParams.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:t.tableTotal}})],1)])},staticRenderFns:[]};var m=a("VU/8")(d,p,!1,function(t){a("jSyp")},"data-v-302a2f2f",null).exports,v=a("mvHQ"),b=a.n(v),f=a("Dd8w"),h=a.n(f),g={name:"AddProduct",data:function(){return{productId:"",product:{pTitle:"",startDate:"",pType:"dairy",hot:!1,addable:!0,addableList:[],pDesc:"",price:"",method:"cool",contacts:"陶俊宇",contactsNo:"001152601",stockNum:10},productIconUrl:"",isTopSelectList:[{value:"cool",label:"制冰"},{value:"hot",label:"热饮"},{value:"brew",label:"精萃"}],typeList:[{value:"dairy",label:"醇享原奶"},{value:"tea",label:"茶类"},{value:"coffee",label:"咖啡"}],imageApi:this.$axios.defaults.baseURL+"/image/",productList:[],fileList:[],exOriginProducts:[],iconData:{imageClassify:"pd",unionId:"",imageId:""},rules:{pTitle:[{required:!0,message:"请输入产品名",trigger:"blur"}],pType:[{required:!0,message:"请选择分类属性",trigger:"change"}],startDate:[{required:!0,message:"请选择生效时间",trigger:"blur"}],pDesc:[{required:!0,message:"请添加商品描述",trigger:"change"}]},updateIconVisible:!0,saveBtnVisible:!0,typeListVisible:!1,productSelectorVisible:!1,hyperlinksInputVisible:!1,isHotVisible:!1,formEdit:!1,pubKeyAndCorpIdEditable:!1,urlStatus:!1,operationType:""}},created:function(){this.$route.params&&this.$route.params.productId&&(this.productId=this.$route.params.productId,this.getProductDetail())},methods:{changeImage:function(){var t="I-"+this.$moment().format("YYYYMMDD")+"-"+Math.random().toString().substr(3,8);this.iconData.unionId=this.productId,this.iconData.imageId=t},saveProduct:function(){var t=this;this.$refs.productForm.validate(function(e){if(e){var a=h()({},t.product);if(""===t.productId){var s="P-"+t.$moment().format("YYYYMMDD")+"-"+Math.random().toString().substr(3,8),o="I-"+t.$moment().format("YYYYMMDD")+"-"+Math.random().toString().substr(3,8);t.iconData.unionId=s,t.iconData.imageId=o,a.productId=s,a.startDate=t.$moment(a.startDate).format("YYYY-MM-DD"),a.addableList=b()(a.addableList),a.hot=a.hot?"1":"0",a.addable=a.addable?"1":"0",a.imageId=o,console.log(a)}t.iconData.imageId&&(t.$refs.iconUpload.submit(),a.imageId=t.iconData.imageId);var r=t.$loading({lock:!0,text:"新增中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.$axios.post("/drink/",a).then(function(e){console.log("saveProduct res => %o",e),t.$refs.iconUpload.submit(),t.$message.success("保存成功"),setTimeout(function(){t.$router.push({name:"ProductList"})},1e3)}).catch(function(t){console.error(t)}).then(function(){r.close()})}})},goBack:function(){this.$router.push({name:"ProductList"})},getProductDetail:function(){var t=this,e="/drink/product/"+this.productId;this.$axios.get(e).then(function(e){t.product=e.data,t.productIconUrl=t.$axios.defaults.baseURL+"/image/"+e.data.imageId}).catch(function(t){console.error(t)})},onPreUpload:function(t){},deleteImage:function(){}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-form",{ref:"productForm",attrs:{inline:!0,model:t.product,"label-position":"left","label-width":"160px",rules:t.rules}},[a("p",{staticClass:"product-info-title"},[t._v("产品信息")]),t._v(" "),a("div",{staticClass:"product-info-box"},[a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form-item",{attrs:{prop:"pTitle",label:"产品名称： "}},[a("el-input",{attrs:{disabled:t.formEdit},model:{value:t.product.pTitle,callback:function(e){t.$set(t.product,"pTitle",e)},expression:"product.pTitle"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{prop:"pType",label:"产品分类： "}},[a("el-select",{attrs:{disabled:t.typeListVisible},model:{value:t.product.pType,callback:function(e){t.$set(t.product,"pType",e)},expression:"product.pType"}},t._l(t.typeList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"79px"},attrs:{label:"设为热门产品： "}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#cecece"},model:{value:t.product.hot,callback:function(e){t.$set(t.product,"hot",e)},expression:"product.hot"}})],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{label:"是否可加料： "}},[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#cecece"},model:{value:t.product.addable,callback:function(e){t.$set(t.product,"addable",e)},expression:"product.addable"}})],1),t._v(" "),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:t.product.addable,expression:"product.addable"}],staticStyle:{"margin-left":"60px"},attrs:{label:"加料种类： "}},[a("el-checkbox-group",{model:{value:t.product.addableList,callback:function(e){t.$set(t.product,"addableList",e)},expression:"product.addableList"}},[a("el-checkbox",{attrs:{label:"M-1"}},[t._v("珍珠")]),t._v(" "),a("el-checkbox",{attrs:{label:"M-2"}},[t._v("布丁")]),t._v(" "),a("el-checkbox",{attrs:{label:"M-3"}},[t._v("西米")]),t._v(" "),a("el-checkbox",{attrs:{label:"M-4"}},[t._v("芝士")]),t._v(" "),a("el-checkbox",{attrs:{label:"M-5"}},[t._v("红豆")])],1)],1)],1),t._v(" "),""!==t.productIconUrl?a("div",{staticClass:"product-current-icon"},[a("div",{staticStyle:{"font-size":"14px",color:"#606266","margin-top":"35px"}},[t._v("当前按钮图标:")]),t._v(" "),a("img",{staticClass:"btn-icon",attrs:{slot:"trigger",src:t.productIconUrl},slot:"trigger"})]):t._e(),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.updateIconVisible,expression:"updateIconVisible"}]},[a("el-form-item",{attrs:{prop:"btnIcon",label:"按钮图标："}},[a("el-upload",{ref:"iconUpload",staticClass:"avatar-uploader",attrs:{action:t.imageApi,"auto-upload":!1,name:"btnIcon",limit:1,data:t.iconData,multiple:!1,"file-list":t.fileList,"before-upload":t.onPreUpload,"list-type":"picture"}},[""===t.productIconUrl?a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选择按钮图片")]):t._e(),t._v(" "),""!==t.productIconUrl?a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},on:{click:t.changeImage},slot:"trigger"},[t._v("更新按钮图片")]):t._e(),t._v(" "),""!==t.productIconUrl?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.deleteImage}},[t._v("删除")]):t._e()],1)],1)],1),t._v(" "),a("div",[a("el-form-item",{attrs:{prop:"method",label:"制作方式："}},[a("el-select",{attrs:{disabled:t.formEdit},model:{value:t.product.method,callback:function(e){t.$set(t.product,"method",e)},expression:"product.method"}},t._l(t.isTopSelectList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"price",label:"价格："}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.product.price,callback:function(e){t.$set(t.product,"price",e)},expression:"product.price"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"stockNum",label:"初始库存："}},[a("el-input-number",{attrs:{min:1,label:"修改库存"},model:{value:t.product.stockNum,callback:function(e){t.$set(t.product,"stockNum",e)},expression:"product.stockNum"}})],1),t._v(" "),a("el-form-item",{attrs:{prop:"startDate",label:"生效时间： "}},[a("el-date-picker",{attrs:{disabled:t.formEdit,type:"date",placeholder:"选择日期时间",align:"right"},model:{value:t.product.startDate,callback:function(e){t.$set(t.product,"startDate",e)},expression:"product.startDate"}})],1)],1),t._v(" "),a("el-form-item",{attrs:{prop:"pDesc",label:"产品描述： "}},[a("el-input",{attrs:{type:"textarea",rows:6,placeholder:"请输入内容"},model:{value:t.product.pDesc,callback:function(e){t.$set(t.product,"pDesc",e)},expression:"product.pDesc"}})],1),t._v(" "),a("div")],1),t._v(" "),a("p",{staticClass:"admin-info-title"},[t._v("负责人")]),t._v(" "),a("div",{staticClass:"admin-info-box"},[a("div",{staticStyle:{"margin-top":"15px"}},[a("el-form-item",{attrs:{prop:"contacts",label:"联系人： "}},[a("el-input",{attrs:{disabled:!0},model:{value:t.product.contacts,callback:function(e){t.$set(t.product,"contacts",e)},expression:"product.contacts"}})],1),t._v(" "),a("el-form-item",{staticStyle:{"margin-left":"15px"},attrs:{prop:"contactsNo",label:"工号： "}},[a("el-input",{attrs:{disabled:!0},model:{value:t.product.contactsNo,callback:function(e){t.$set(t.product,"contactsNo",e)},expression:"product.contactsNo"}})],1)],1)]),t._v(" "),a("div",{staticStyle:{"margin-top":"15px"}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.saveBtnVisible,expression:"saveBtnVisible"}],staticClass:"op-btn",on:{click:t.saveProduct}},[t._v("保存")]),t._v(" "),a("el-button",{staticClass:"op-btn",on:{click:t.goBack}},[t._v("取消")])],1)])],1)},staticRenderFns:[]};var y=a("VU/8")(g,_,!1,function(t){a("fWVZ")},"data-v-5a1ca46b",null).exports,k={name:"Stock",data:function(){return{queryParams:{productName:"",attrId:"",type:"",all:!0,pageNum:1,pageSize:10},currentSelectionItem:{},addProductStockDialogVisible:!1,addMixStockDialogVisible:!1,dict:[{value:"1",label:"奶制品"},{value:"2",label:"茶类"},{value:"3",label:"上新"}],pTableData:[],mTableData:[],tableTotal:0,selectedProduct:{},selectedMix:{},rules:{attrId:[{required:!0,message:"请选择业务类型",trigger:"change"}]}}},created:function(){this.getStockProduct(),this.getStockMix()},methods:{showProductDialog:function(t){this.addProductStockDialogVisible=!0,console.log("product %o",t),this.selectedProduct=t},showMixDialog:function(t){this.addMixStockDialogVisible=!0,this.selectedMix=t},reviseProduct:function(t){var e=this,a=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios.put("/stock/product",{},{params:{productId:t,stockNum:this.selectedProduct.stockNum}}).then(function(t){e.$message.success("修改成功")}).catch(function(t){e.$message.error("修改失败"),console.error(t)}).then(function(t){a.close(),e.addProductStockDialogVisible=!1})},getStockProduct:function(){var t=this;this.$axios.get("/stock/product").then(function(e){t.pTableData=e.data,t.pTableData.forEach(function(e){e.startDate=t.$moment(e.startDate).format("YYYY-MM-DD")})}).catch(function(t){console.error(t)})},getStockMix:function(){var t=this;this.$axios.get("/stock/mix").then(function(e){t.mTableData=e.data}).catch(function(t){console.error(t)})},reviseMix:function(t){var e=this,a=this.$loading({lock:!0,text:"修改中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios.put("/stock/mix",{},{params:{mixId:t,stockNum:this.selectedMix.stock}}).then(function(t){e.$message.success("修改成功")}).catch(function(t){e.$message.error("修改失败"),console.error(t)}).then(function(t){a.close(),e.addMixStockDialogVisible=!1})}}},x={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"table"},[a("div",{staticClass:"s-title"},[t._v("产品库存")]),t._v(" "),a("el-table",{attrs:{data:t.pTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"productId",label:"产品Id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ptype",label:"产品分类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"startDate",label:"上线时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stockNum",label:"当前库存量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"option-btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.showProductDialog(e.row)}}},[t._v("修改")])],1)]}}])})],1),t._v(" "),a("el-dialog",{staticStyle:{"font-size":"12px"},attrs:{title:"修改库存",visible:t.addProductStockDialogVisible,width:"80%"},on:{"update:visible":function(e){t.addProductStockDialogVisible=e}}},[a("div",[a("div",{staticStyle:{margin:"25px 0px","font-weight":"600"}},[t._v("产品名："+t._s(t.selectedProduct.productName))]),t._v(" "),a("el-input-number",{attrs:{min:1,label:"修改库存"},model:{value:t.selectedProduct.stockNum,callback:function(e){t.$set(t.selectedProduct,"stockNum",e)},expression:"selectedProduct.stockNum"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.reviseProduct(t.selectedProduct.productId)}}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取消")])],1)]),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.queryParams.pageNum,"page-sizes":[5,10,20],"page-size":t.queryParams.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:t.tableTotal}})],1)],1),t._v(" "),a("div",{staticClass:"table",staticStyle:{"margin-top":"25px"}},[a("div",{staticClass:"s-title"},[t._v("配料库存")]),t._v(" "),a("el-table",{attrs:{data:t.mTableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"mixId",label:"配料Id"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mixTitle",label:"配料名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"stock",label:"当前库存量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"option-btn",attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.showMixDialog(e.row)}}},[t._v("修改")])],1)]}}])})],1),t._v(" "),a("el-dialog",{staticStyle:{"font-size":"12px"},attrs:{title:"警告",visible:t.addMixStockDialogVisible,width:"80%"},on:{"update:visible":function(e){t.addMixStockDialogVisible=e}}},[a("div",[a("div",{staticStyle:{margin:"25px 0px","font-weight":"600"}},[t._v("配料名："+t._s(t.selectedMix.mixTitle))]),t._v(" "),a("el-input-number",{attrs:{min:1,label:"修改库存"},model:{value:t.selectedMix.stock,callback:function(e){t.$set(t.selectedMix,"stock",e)},expression:"selectedMix.stock"}})],1),t._v(" "),a("div",{staticClass:"dialog-footer",staticStyle:{"text-align":"center"},attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.reviseMix(t.selectedMix.mixId)}}},[t._v("确定")]),t._v(" "),a("el-button",{on:{click:function(e){t.deleteDialogVisible=!1}}},[t._v("取消")])],1)]),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.queryParams.pageNum,"page-sizes":[5,10,20],"page-size":t.queryParams.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:t.tableTotal}})],1)],1)])},staticRenderFns:[]};var j=a("VU/8")(k,x,!1,function(t){a("vBY4")},"data-v-1ade683c",null).exports,S={name:"OrdersList",data:function(){return{ordersStatus:"",attrList:[{value:"01",label:"支付成功"},{value:"02",label:"支付失败"},{value:"03",label:"已退款"},{value:"04",label:"退款成功"},{value:"05",label:"退款失败"},{value:"06",label:"支付中"},{value:"",label:"全部"}],tableData:[],tableTotal:0,queryParams:{pageSize:10,pageNum:0,ordersStatus:""}}},created:function(){this.getOrdersList()},methods:{getOrdersList:function(){var t=this,e=this.$loading({lock:!0,text:"查询中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios.get("/orders/oa/list",{params:{ordersStatus:this.queryParams.ordersStatus}}).then(function(e){t.tableData=e.data,t.tableData.forEach(function(e){switch(e.createDate=t.$moment(e.createDate).format("YYYY-MM-DD HH:mm:ss"),e.orderStatus){case"01":e.orderStatus="支付成功";break;case"02":e.orderStatus="支付失败";break;case"03":e.orderStatus="已退款";break;case"04":e.orderStatus="退款成功";break;case"05":e.orderStatus="退款失败";break;case"06":e.orderStatus="支付中"}})}).catch(function(t){console.error(t)}).then(function(t){e.close()})},refund:function(){this.$message.warning("功能开发中...")}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"title-h1"},[t._v("订单管理")]),t._v(" "),a("div",{staticClass:"query-box"},[a("el-form",{ref:"params",attrs:{model:t.queryParams,"label-position":"left"}},[a("el-row",{staticStyle:{"margin-top":"20px","margin-left":"15%"}},[a("el-col",{attrs:{span:8}},[a("el-form-item",{attrs:{prop:"ordersStatus",label:"订单状态："}},[a("el-select",{model:{value:t.queryParams.ordersStatus,callback:function(e){t.$set(t.queryParams,"ordersStatus",e)},expression:"queryParams.ordersStatus"}},t._l(t.attrList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}})],1),t._v(" "),a("div",{staticStyle:{width:"100%"}},[a("el-button",{staticClass:"query-btn",attrs:{type:"primary",size:"small"},on:{click:t.getOrdersList}},[t._v("查询")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table"},[a("el-table",{attrs:{data:t.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"orderId",label:"订单号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"productName",label:"产品名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"mixLabel",label:"加料表"}}),t._v(" "),a("el-table-column",{attrs:{prop:"num",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"订单价格"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userId",label:"用户编号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"userName",label:"用户名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"addressLabel",label:"配送地址"}}),t._v(" "),a("el-table-column",{attrs:{prop:"phone",label:"手机号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderStatus",label:"订单状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createDate",label:"下单时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"operation",label:"操作",width:"300px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{staticClass:"option-btn",attrs:{size:"mini",type:"primary"},on:{click:t.refund}},[t._v("退款")])],1)]}}])})],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-pagination",{attrs:{"current-page":t.queryParams.pageNum,"page-sizes":[5,10,20],"page-size":t.queryParams.pageSize,layout:"total,sizes,prev,pager,next,jumper",total:t.tableTotal}})],1)])},staticRenderFns:[]};var D=a("VU/8")(S,w,!1,function(t){a("naBZ")},"data-v-83e34b38",null).exports,P={name:"Overview",data:function(){return{totalPrice:0}},mounted:function(){this.initSoldPie(),this.initStockLine()},methods:{initSoldPie:function(){var t=this,e={title:{text:"产品销售分析",subtext:"各产品销售金额占比情况",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",data:[]},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"]},restore:{show:!0},saveAsImage:{show:!0}}},series:[{name:"销售额占比",type:"pie",radius:[20,110],center:["50%","50%"],roseType:"radius",label:{show:!0},emphasis:{label:{show:!0}},data:[]}]},a=this.$loading({lock:!0,text:"查询中...",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.$axios("/charts/pie/sold").then(function(a){e.series[0].data=a.data;var s=t.$echarts.init(document.getElementById("sold-pie"));a.data.forEach(function(a){t.totalPrice+=a.value,e.legend.data.push(a.name)}),s.setOption(e)}).catch(function(e){console.error(e),t.$message.error("数据获取失败")}).then(function(t){a.close()})},initStockLine:function(){var t=this,e={title:{text:"各产品当前库存",subtext:"各产品当前库存情况",left:"center"},xAxis:{type:"category",data:[]},yAxis:{type:"value"},series:[{type:"bar",itemStyle:{color:"#d48265"},emphasis:{itemStyle:{color:"#d78f76"}},data:[]}]};this.$axios.get("/stock/product").then(function(a){a.data.forEach(function(t){e.series[0].data.push(t.stockNum),e.xAxis.data.push(t.productName)}),t.$echarts.init(document.getElementById("stock-line")).setOption(e)}).catch(function(t){console.error(t)})}}},z={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("el-row",[e("el-col",{attrs:{span:12}}),this._v(" "),e("el-col",{attrs:{span:12}})],1),this._v(" "),e("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"sold-pie"}}),this._v(" "),e("div",{staticStyle:{height:"35px"}}),this._v(" "),e("div",{staticStyle:{width:"100%",height:"600px"},attrs:{id:"stock-line"}})],1)},staticRenderFns:[]};var I=a("VU/8")(P,z,!1,function(t){a("nXvG")},"data-v-b22cfbe6",null).exports;s.default.use(l.a);var $=new l.a({routes:[{path:"/",name:"Home",component:u},{path:"/home/:userId?/:defaultRoleId?/:userBranchId?/:defaultFuncId?/:dse_sessionId?/:netType?",name:"Home",component:u,children:[{path:"product/list",name:"ProductList",component:m},{path:"add/product",name:"AddProduct",component:y},{path:"add/stock",name:"Stock",component:j},{path:"orders",name:"OrdersList",component:D},{path:"overview",name:"Overview",component:I}]}]}),T=a("zL8q"),C=a.n(T),N=(a("e4zS"),a("M4fF")),M=a.n(N),q=a("PJh5"),L=a.n(q),V=a("mtWM"),E=a.n(V),Y=a("XLwt"),U=a.n(Y);s.default.use(C.a),s.default.config.productionTip=!1,E.a.defaults.baseURL="/takeaway/api",s.default.prototype.$_=M.a,s.default.prototype.$moment=L.a,s.default.prototype.$axios=E.a,s.default.prototype.$echarts=U.a,new s.default({el:"#app",router:$,components:{App:r},template:"<App/>"})},e4zS:function(t,e){},fWVZ:function(t,e){},jSyp:function(t,e){},"mmY/":function(t,e){},nXvG:function(t,e){},naBZ:function(t,e){},s347:function(t,e){},uslO:function(t,e,a){var s={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function o(t){return a(r(t))}function r(t){var e=s[t];if(!(e+1))throw new Error("Cannot find module '"+t+"'.");return e}o.keys=function(){return Object.keys(s)},o.resolve=r,t.exports=o,o.id="uslO"},vBY4:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.c967a0556b65eed2d071.js.map